<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shop-Lytics</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <header>
        <nav id="navbar">
            <div class="nav-brand">Shop-Lytics</div>
            <ul class="nav-links">
                <li><a href="#" id="profile-link" class="nav-item" style="display: none;">Profile</a></li>
                <li><a href="#" id="dashboard-link" class="nav-item" style="display: none;">Dashboard</a></li>
                <li><a href="#" id="register-store-link" class="nav-item" style="display: none;">Register Store</a></li>
                <li><a href="#" id="logout-link" class="nav-item" style="display: none;">Logout</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <!-- Login Page -->
        <section id="login-page" class="page">
            <div class="form-container">
                <h2>Login</h2>
                <form id="login-form">
                    <div class="form-group">
                        <label for="login-email">Email</label>
                        <input type="email" id="login-email" required>
                    </div>
                    <div class="form-group">
                        <label for="login-password">Password</label>
                        <input type="password" id="login-password" required>
                    </div>
                    <button type="submit">Login</button>
                    <p class="form-footer">
                        <a href="#" id="forgot-password-link">Forgot Password?</a>
                    </p>
                    <p class="form-footer">
                        Don't have an account? <a href="#" id="show-signup-link">Sign Up</a>
                    </p>
                </form>
            </div>
        </section>

        <!-- Forgot Password Page -->
        <section id="forgot-password-page" class="page" style="display: none;">
            <div class="form-container">
                <h2>Reset Password</h2>
                <form id="forgot-password-form">
                    <p class="info-text">Enter your email address and we will send you a link to reset your password.</p>
                    <div class="form-group">
                        <label for="forgot-password-email">Email</label>
                        <input type="email" id="forgot-password-email" required>
                    </div>
                    <button type="submit">Send Reset Link</button>
                    <p class="form-footer">
                        Remembered your password? <a href="#" id="show-login-link-from-forgot">Login</a>
                    </p>
                </form>
            </div>
        </section>

        <!-- Forgot Password Page -->
        <section id="forgot-password-page" class="page" style="display: none;">
            <div class="form-container">
                <h2>Reset Password</h2>
                <form id="forgot-password-form">
                    <p class="info-text">Enter your email address and we will send you a link to reset your password.</p>
                    <div class="form-group">
                        <label for="forgot-password-email">Email</label>
                        <input type="email" id="forgot-password-email" required>
                    </div>
                    <button type="submit">Send Reset Link</button>
                    <p class="form-footer">
                        Remembered your password? <a href="#" id="show-login-link-from-forgot">Login</a>
                    </p>
                </form>
            </div>
        </section>

        <!-- Password Reset Confirm Page -->
        <section id="password-reset-confirm-page" class="page" style="display: none;">
            <div class="form-container">
                <h2>Choose a New Password</h2>
                <form id="password-reset-confirm-form">
                    <div class="form-group">
                        <label for="new-password">New Password</label>
                        <input type="password" id="new-password" required>
                    </div>
                    <button type="submit">Reset Password</button>
                </form>
            </div>
        </section>

        <!-- Signup Page -->
        <section id="signup-page" class="page" style="display: none;">
            <div class="form-container">
                <h2>Sign Up</h2>
                <form id="signup-form">
                    <div id="signup-step-1">
                        <div class="form-group">
                            <label for="signup-email">Email</label>
                            <input type="email" id="signup-email" required>
                        </div>
                        <button type="button" id="send-otp-btn">Send OTP</button>
                    </div>
                    <div id="signup-step-2" style="display: none;">
                         <div class="form-group">
                            <label for="signup-username">Username</label>
                            <input type="text" id="signup-username" required>
                        </div>
                        <div class="form-group">
                            <label for="signup-first-name">First Name</label>
                            <input type="text" id="signup-first-name">
                        </div>
                        <div class="form-group">
                            <label for="signup-last-name">Last Name</label>
                            <input type="text" id="signup-last-name">
                        </div>
                        <div class="form-group">
                            <label for="otp">OTP</label>
                            <input type="text" id="otp" required>
                        </div>
                        <div class="form-group">
                            <label for="signup-password">Password</label>
                            <input type="password" id="signup-password" required>
                        </div>
                        <div class="form-group">
                            <label for="signup-re-password">Confirm Password</label>
                            <input type="password" id="signup-re-password" required>
                        </div>
                        <button type="submit">Sign Up</button>
                    </div>
                </form>
                 <p class="form-footer">
                    Already have an account? <a href="#" id="show-login-link">Login</a>
                </p>
            </div>
        </section>

        <!-- Dashboard Page -->
        <section id="dashboard-page" class="page" style="display: none;">
            <div id="dashboard-content">
            </div>
        </section>

        <!-- Welcome Page -->
        <section id="welcome-page" class="page" style="display: none;">
            <div class="form-container">
                <h2>Welcome!</h2>
                <p>You are successfully logged in.</p>
                <p>What would you like to do?</p>
                <ul>
                    <li><a href="#" id="welcome-dash-link">View your Dashboard</a></li>
                    <li><a href="#" id="welcome-profile-link">Update your Profile</a></li>
                    <li><a href="#" id="welcome-store-link">Register a new Store</a></li>
                </ul>
            </div>
        </section>

        <!-- Profile Page -->
        <section id="profile-page" class="page" style="display: none;">
            <div class="form-container">
                <h2>Your Profile</h2>
                <form id="profile-form">
                    <div class="form-group">
                        <label>Username</label>
                        <p id="profile-username" class="read-only-field"></p>
                    </div>
                    <div class="form-group">
                        <label for="profile-first-name">First Name</label>
                        <input type="text" id="profile-first-name">
                    </div>
                    <div class="form-group">
                        <label for="profile-last-name">Last Name</label>
                        <input type="text" id="profile-last-name">
                    </div>
                    <div class="form-group">
                        <label for="profile-email">Email</label>
                        <div class="editable-field">
                            <input type="email" id="profile-email" readonly>
                            <button type="button" id="edit-email-btn" class="field-btn">Edit</button>
                            <button type="button" id="send-otp-email-btn" class="field-btn" style="display: none;">Send OTP</button>
                            <button type="button" id="cancel-email-btn" class="field-btn" style="display: none;">Cancel</button>
                        </div>
                    </div>

                    <div id="email-change-verification" style="display: none;">
                        <p class="info-text">An OTP has been sent to your new email address. Please enter it below along with your current password to confirm the change.</p>
                        <div class="form-group">
                            <label for="profile-current-password">Current Password</label>
                            <input type="password" id="profile-current-password">
                        </div>
                        <div class="form-group">
                            <label for="profile-otp">OTP</label>
                            <input type="text" id="profile-otp">
                        </div>
                        <button type="button" id="verify-email-change-btn">Verify & Update Email</button>
                    </div>

                    <button type="submit" id="update-profile-btn">Update Profile</button>
                </form>
            </div>
        </section>

        <!-- Register Store Page -->
        <section id="register-store-page" class="page" style="display: none;">
            <div class="form-container">
                <h2>Register a New Store</h2>
                <form id="register-store-form">
                    <div class="form-group">
                        <label for="tenant-name">Store Name</label>
                        <input type="text" id="tenant-name" required>
                    </div>
                    <div class="form-group">
                        <label for="tenant-domain">Shopify Domain</label>
                        <input type="text" id="tenant-domain" placeholder="example.myshopify.com" required>
                    </div>
                    <div class="form-group">
                        <label for="tenant-token">Shopify Access Token</label>
                        <input type="password" id="tenant-token" required>
                    </div>
                    <button type="submit">Register Store</button>
                </form>
            </div>
        </section>
    </main>

    <script>
        window.API_BASE_URL = "BACKEND_URL";
    </script>
    <script src="script.js"></script>
</body>
</html>
